<nav
  class="fixed top-0 left-0 w-full z-50 transition-all duration-300 motion-reduce:transition-none bg-gray-900 text-white"
  [ngClass]="
    compact() ? 'h-12 py-1 bg-gray-900/85 backdrop-blur shadow' : 'h-16 md:h-20 py-3 bg-gray-900'
  "
>
  <div class="max-w-6xl mx-auto px-4 flex items-center justify-between">
    <a
      routerLink="/"
      class="flex items-center gap-2 text-2xl font-bold text-white hover:text-blue-400 transition hover:cursor-pointer"
    >
      <span class="font-semibold">{{ 'portfolio-title' | translate }}</span>
    </a>

    <ul class="flex items-center gap-4">
      <li>
        <a
          class="hover:opacity-90"
          routerLink="/parcours"
          routerLinkActive="font-bold text-blue-300"
          >Parcours</a
        >
      </li>
      <li>
        <a class="hover:opacity-90" routerLink="/projets" routerLinkActive="font-bold text-blue-300"
          >Projets</a
        >
      </li>
      <li>
        <a
          class="hover:opacity-90"
          routerLink="/competences"
          routerLinkActive="font-bold text-blue-300"
          >Comp√©tences</a
        >
      </li>
      <li>
        <a class="hover:opacity-90" routerLink="/contact" routerLinkActive="font-bold text-blue-300"
          >Contact</a
        >
      </li>
    </ul>

    <div class="flex gap-2 items-center">
      <div *ngFor="let lang of languages" tabindex="0" class="relative group">
        <img
          [src]="'assets/flags/' + lang + '.svg'"
          [alt]="lang"
          tabindex="0"
          class="w-6 h-6 cursor-pointer transition duration-200"
          [ngClass]="{
            'opacity-50 grayscale': currentLang !== lang,
          }"
          (click)="setLanguage(lang)"
          (keydown.enter)="setLanguage(lang)"
        />

        <span
          class="absolute top-full left-1/2 translate-x-[-50%] mt-2 px-2 py-1 text-sm text-white bg-black rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10"
        >
          {{ 'language.' + lang | translate }}
        </span>
      </div>
    </div>
  </div>
</nav>
